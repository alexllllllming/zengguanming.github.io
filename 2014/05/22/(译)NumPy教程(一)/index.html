<!doctype html>
<html class="theme-next use-motion theme-next-mist">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1"/>




  <meta name="keywords" content="NumPy," />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


<meta name="description" content="翻译自Tentative Numpy Tutorial
必备知识在阅读本教程之前，你需要会一点点的python。如果你想复习下python的内容，可以看下Python Tutorial,如果你想跑一下教程中的例子，需要先装一些软件，最起码要有python和Numpy。一些可能对你有用的工具：

IPython，一个更好用的交互式的python shell，方便你更好地学习Numpy。
matplo">
<meta property="og:type" content="article">
<meta property="og:title" content="(译)NumPy教程(一)">
<meta property="og:url" content="http://yoursite.com/2014/05/22/(译)NumPy教程(一)/index.html">
<meta property="og:site_name" content="Begin">
<meta property="og:description" content="翻译自Tentative Numpy Tutorial
必备知识在阅读本教程之前，你需要会一点点的python。如果你想复习下python的内容，可以看下Python Tutorial,如果你想跑一下教程中的例子，需要先装一些软件，最起码要有python和Numpy。一些可能对你有用的工具：

IPython，一个更好用的交互式的python shell，方便你更好地学习Numpy。
matplo">
<meta property="og:updated_time" content="2015-08-06T03:46:45.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="(译)NumPy教程(一)">
<meta name="twitter:description" content="翻译自Tentative Numpy Tutorial
必备知识在阅读本教程之前，你需要会一点点的python。如果你想复习下python的内容，可以看下Python Tutorial,如果你想跑一下教程中的例子，需要先装一些软件，最起码要有python和Numpy。一些可能对你有用的工具：

IPython，一个更好用的交互式的python shell，方便你更好地学习Numpy。
matplo">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post'
  };
</script>

  <title> (译)NumPy教程(一) | Begin </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  

  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?48021ee644688ca93434cdf9a85d3cb3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-next-logo"></i>
      </span>
      <span class="site-title">Begin</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-next-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-next-archives"></i> <br />
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-next-tags"></i> <br />
            标签
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              (译)NumPy教程(一)
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2014-05-22T22:33:11+08:00" content="2014-05-22">
            2014-05-22
          </time>
        </span>

        

        
          
            <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/2014/05/22/(译)NumPy教程(一)/#comments" itemprop="discussionUrl">
                <span class="post-comments-count ds-thread-count" data-thread-key="2014/05/22/(译)NumPy教程(一)/" itemprop="commentsCount"></span>
              </a>
            </span>
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><p>翻译自<a href="http://wiki.scipy.org/Tentative_NumPy_Tutorial
" target="_blank">Tentative Numpy Tutorial</a></p>
<h2 id="必备知识">必备知识</h2><p>在阅读本教程之前，你需要会一点点的python。如果你想复习下python的内容，可以看下<a href="https://docs.python.org/2/tutorial/" target="_blank">Python Tutorial</a>,如果你想跑一下教程中的例子，需要先装一些软件，最起码要有python和Numpy。<br>一些可能对你有用的工具：</p>
<ul>
<li><a href="http://ipython.org/ " target="_blank">IPython</a>，一个更好用的交互式的python shell，方便你更好地学习Numpy。</li>
<li><a href="http://matplotlib.org/" target="_blank">matplotlib</a>，一个python的2D画图的库，可以用于画达到出版物质量的图表。</li>
<li><a href="http://www.scipy.or" target="_blank">SciPy</a>,一个以NumPy为基础的python的科学计算库。<a id="more"></a>
</li>
</ul>
<h2 id="NumPy基础">NumPy基础</h2><p>NumPy中的主要操作对象是多维数组。所有的元素都是同类型(通常数字)，每个元素通过一个正整数构成的元组来索引。在NumPy中，<abbr title="dimensions">维</abbr>等价于轴，<abbr title="axes">轴的</abbr>的数量被称为<abbr title="rank">阶</abbr>。<br>举个例子，一个在三维空间中的点，它的坐标为表示为[1，2，1]，则它是一个阶为1的数组，因为它只有一个轴，这个轴的长度为3。下面所示的数组是一个阶为2的数组(2维数组)。第一维的长度为2，第二维的长度为3.(译者注：第一维为最外层的数组)</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line"> [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">2.</span>]]</span><br></pre></td></tr></table></figure>
<p>Numpy中的数组类命名为ndarray，别名为array。需要知道的是NumPy中的数组类与python标准库中的数组类是不一样的，后者只能处理一维的数组而且提供的操作函数很少。下面列举在ndarray类中比较重要的<abbr title="attributes">属性</abbr>：</p>
<ul>
<li><p>ndarray.ndim<br>数组的轴数(维数)，在python中，轴数也被称为rank。</p>
</li>
<li><p>ndarray.shape<br>数组的维(轴)。shape是一个由整数组成的元组，每一个整数代表了数组中每一维的长度。例如一个n行m列的矩阵(译者注：以行为最外层的存储元素)，shape为(n, m),亦即第一维的长度为n，第二维的长度为m。所以shape的长度等于ndarray.dim。</p>
</li>
<li><p>ndarray.size<br>数组的元素个数，等于shape元组中每个元素的乘积。</p>
</li>
<li><p>ndarray.dtype<br>一个指示数组中元素类型的对象。你可以指定dtype为python中的任一标准类型，也可以使用NumPy中自定义的类型，例如numpy.int32, numpy.int16和numpy.float64等。</p>
</li>
<li><p>ndarray.itemsize<br>数组中每个元素的字节大小。举个例子，一个数组中的元素类型为float64，那么它的itemsize为8(64/8)，如果元素类型为complex32，则itemsize为4(32/8)。ndarray.itemsize等于ndarray.dtype.itemsize。</p>
</li>
<li><p>ndarray.data<br>一个缓冲区保存着数组的所有元素。我们一般不直接用这个属性来访问数组的元素，而是通过数组的索引。</p>
</li>
</ul>
<h3 id="一个例子">一个例子</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from numpy import *</span><br><span class="line">&gt;&gt;&gt; a = arange(<span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line">&gt;&gt;&gt; <span class="function">a</span><br><span class="line"><span class="title">array</span><span class="params">(([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span></span><br><span class="line">&gt;&gt;&gt; a.<span class="title">shape</span></span><br><span class="line"><span class="params">(<span class="number">2</span>, <span class="number">5</span>)</span></span><br><span class="line">&gt;&gt;&gt; a.ndim</span><br><span class="line">2</span><br><span class="line">&gt;&gt;&gt; a.dtype.name</span><br><span class="line">'int32'</span><br><span class="line">&gt;&gt;&gt; a.itemsize</span><br><span class="line">4</span><br><span class="line">&gt;&gt;&gt; a.size</span><br><span class="line">10</span><br><span class="line">&gt;&gt;&gt; <span class="title">type</span><span class="params">(a)</span></span><br><span class="line">numpy.ndarray</span><br><span class="line">&gt;&gt;&gt; b </span>= <span class="built_in">array</span>([<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])</span><br><span class="line">&gt;&gt;&gt; <span class="function">b</span><br><span class="line"><span class="title">array</span><span class="params">([<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>])</span></span><br><span class="line">&gt;&gt;&gt; <span class="title">type</span><span class="params">(b)</span></span><br><span class="line">numpy.ndarray</span></span><br></pre></td></tr></table></figure>
<h3 id="创建数组">创建数组</h3><p>有多种方法可以创建数组。<br>例如，你可以用python中的<abbr title="list">列表</abbr>或<abbr title="tuple">元组</abbr>作为array函数的输入来生成一个数组。数组中的元素类型为输入序列的元素类型。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="prompt">&gt;&gt;</span>&gt; from numpy import *</span><br><span class="line">&gt;&gt;&gt; a = array([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="prompt">&gt;&gt;</span>&gt; a</span><br><span class="line">array([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="prompt">&gt;&gt;</span>&gt; a.dtype</span><br><span class="line">dtype(<span class="string">'int32'</span>)</span><br><span class="line"><span class="prompt">&gt;&gt;</span>&gt; b = array([<span class="number">1.2</span>, <span class="number">3.5</span>, <span class="number">5.1</span>])</span><br><span class="line"><span class="prompt">&gt;&gt;</span>&gt; b.dtype</span><br><span class="line">dtype(<span class="string">'float64'</span>)</span><br></pre></td></tr></table></figure>
<p>用这个方法创建数组时常犯的错误是直接输入多个数字参数，而不是提供一个列表作为参数。例如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = <span class="built_in">array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)    <span class="preprocessor"># 错误</span></span><br><span class="line">&gt;&gt;&gt; a = <span class="built_in">array</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])  <span class="preprocessor"># 正确</span></span><br></pre></td></tr></table></figure>
<p>array函数会将<abbr title="sequences of sequences">序列的序列</abbr>转换为二维的数组，序列的序列的序列转换为三维的数组，以此类推。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; b = <span class="built_in">array</span>([ (<span class="number">1.5</span>, <span class="number">2</span>, <span class="number">3</span>), (<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)])</span><br><span class="line">&gt;&gt;&gt; <span class="function">b</span><br><span class="line"><span class="title">array</span><span class="params">([[<span class="number">1.5</span>, <span class="number">2.</span>, <span class="number">3.</span>],</span><br><span class="line">       [<span class="number">4.</span>, <span class="number">5.</span>, <span class="number">6.</span>]])</span></span></span><br></pre></td></tr></table></figure>
<p>也可以在数组创建的时候显式的指定数组元素的类型。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; c = <span class="built_in">array</span>([[<span class="number">1</span>, <span class="number">2</span>],[<span class="number">3</span>, <span class="number">4</span>]], dtype=<span class="keyword">complex</span>)</span><br><span class="line">&gt;&gt;&gt; <span class="function">c</span><br><span class="line"><span class="title">array</span><span class="params">([[<span class="number">1.</span>+<span class="number">0.</span>j, <span class="number">2.</span>+<span class="number">0.</span>j],</span><br><span class="line">       [<span class="number">3.</span>+<span class="number">0.</span>j, <span class="number">4.</span>+<span class="number">0.</span>j]])</span></span></span><br></pre></td></tr></table></figure>
<p>在大多数情况下，数组元素的具体值是未知的，但是数组的大小是已知。因此，NumPy提供了一些方法来初始化数组，并指定<abbr title="placeholder">占位符</abbr>。这样使得我们免于去对数组元素进行循环来初始化。<br>zeros函数创建一个全是0的数组，ones函数创建一个全是1的数组，empty函数创建由随机值组成的数组，随机值的取值取决于内存的相关状态。默认情况下，数组元素的类型为float64。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; zeros((<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"><span class="built_in">array</span>([[<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>]])</span><br><span class="line">&gt;&gt;&gt; ones((<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), dtype=int16)  <span class="preprocessor"># 也可以显示设置dtype      </span></span><br><span class="line"><span class="built_in">array</span>([[[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]],</span><br><span class="line">       [[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]]], dtype=int16)</span><br><span class="line">&gt;&gt;&gt; empty((<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line"><span class="built_in">array</span>([[<span class="number">3.73603959</span>e­<span class="number">262</span>, <span class="number">6.02658058</span>e­<span class="number">154</span>, <span class="number">6.55490914</span>e­<span class="number">260</span>],</span><br><span class="line">       [<span class="number">5.30498948</span>e­<span class="number">313</span>, <span class="number">3.14673309</span>e­<span class="number">307</span>, <span class="number">1.00000000e+000</span>]])</span><br></pre></td></tr></table></figure>
<p>为了创建一个数字序列，NumPy提供了类似于range的方法，不同的在于，它返回的是一个数组而不是列表。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; arange(<span class="number">10</span>, <span class="number">30</span>, <span class="number">5</span>)</span><br><span class="line"><span class="built_in">array</span>([<span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">25</span>])</span><br><span class="line">&gt;&gt;&gt; arange(<span class="number">0</span>, <span class="number">2</span>, <span class="number">0.3</span>)                 <span class="preprocessor"># 接受浮点类型的参数</span></span><br><span class="line"><span class="built_in">array</span>([<span class="number">0.</span>, <span class="number">0.3</span>, <span class="number">0.6</span>, <span class="number">0.9</span>, <span class="number">1.2</span>, <span class="number">1.5</span>, <span class="number">1.8</span>])</span><br></pre></td></tr></table></figure>
<p>如果在arange中使用浮点类型的参数，通常不太可能判断出它到底接收了多少个参数，这是浮点数有限精度的原因。因为这个原因，所以更推荐使用<span class="mark">linspace函数</span>，这个函数接收一个参数代表我们想要元素的个数，而不是指定步长。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; linspace( <span class="number">0</span>, <span class="number">2</span>, <span class="number">9</span> )                 <span class="preprocessor"># 生成<span class="number">9</span>个数 从<span class="number">0</span>到<span class="number">2</span></span></span><br><span class="line"><span class="built_in">array</span>([<span class="number">0.</span>, <span class="number">0.25</span>, <span class="number">0.5</span>, <span class="number">0.75</span>, <span class="number">1.</span>, <span class="number">1.25</span>, <span class="number">1.5</span>, <span class="number">1.75</span>, <span class="number">2.</span></span><br><span class="line">])</span><br><span class="line">&gt;&gt;&gt; x = linspace(<span class="number">0</span>, <span class="number">2</span>*pi, <span class="number">100</span>)        <span class="preprocessor"># 在分析函数时很有用</span></span><br><span class="line">生成很多点</span><br><span class="line">&gt;&gt;&gt; f = <span class="built_in">sin</span>(x)</span><br></pre></td></tr></table></figure>
<p>其他一些函数，array, zeros, zeros_like, ones, ones_like, empty, empty_like, arange, linspace, rand,randn, fromfunction, fromfile。</p>
<h3 id="打印数组">打印数组</h3><p>当你打印一个数组时，NumPy会显示成类似于一个嵌套的表，但是有着固定的布局。</p>
<ul>
<li>最后一个轴中的元素从左到右打印</li>
<li>第二个轴至最后一个轴的元素从上到下打印</li>
<li>其余的同样是从上到下打印，但其中的每一元素以空行间隔</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = arange(<span class="number">6</span>)                         <span class="preprocessor"># <span class="number">1</span>维数组</span></span><br><span class="line">&gt;&gt;&gt; print a</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span>]</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">&gt;&gt;&gt; b = arange(<span class="number">12</span>).reshape(<span class="number">4</span>,<span class="number">3</span>)           <span class="preprocessor"># <span class="number">2</span>维数组</span></span><br><span class="line">&gt;&gt;&gt; print b</span><br><span class="line">[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>]</span><br><span class="line"> [ <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>]</span><br><span class="line"> [ <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>]</span><br><span class="line"> [ <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">&gt;&gt;&gt; c = arange(<span class="number">24</span>).reshape(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)         <span class="preprocessor"># <span class="number">3</span>维数组</span></span><br><span class="line">&gt;&gt;&gt; print c</span><br><span class="line">[[[ <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>]</span><br><span class="line">  [ <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>]</span><br><span class="line">  [ <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>]]</span><br><span class="line"></span><br><span class="line"> [[<span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span>]</span><br><span class="line">  [<span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>]</span><br><span class="line">  [<span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]]]</span><br></pre></td></tr></table></figure>
<p>如果一个数组太大导致不能打印出来，那么NumPy会自动跳过数组的中间部分，从而只打印边角的部分。</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; print <span class="function">arange</span>(10000)</span><br><span class="line"><span class="attr_selector">[ 0 1 2 ..., 9997 9998 9999]</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">&gt;&gt;&gt; print <span class="function">arange</span>(10000)<span class="class">.reshape</span>(100,100)</span><br><span class="line"><span class="attr_selector">[[   0    1    2 ...,   97   98   99]</span></span><br><span class="line"> <span class="attr_selector">[ 100  101  102 ...,  197  198  199]</span></span><br><span class="line"> <span class="attr_selector">[ 200  201  202 ...,  297  298  299]</span></span><br><span class="line"> ...,</span><br><span class="line"> <span class="attr_selector">[9700 9701 9702 ..., 9797 9798 9799]</span></span><br><span class="line"> <span class="attr_selector">[9800 9801 9802 ..., 9897 9898 9899]</span></span><br><span class="line"> <span class="attr_selector">[9900 9901 9902 ..., 9997 9998 9999]</span>]</span><br></pre></td></tr></table></figure>
<p>如果想强制NumPy打印整个数组，你可以通过set_printoptions来改变打印的设置。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">set_printoptions</span><span class="params">(threshold=<span class="string">'nan'</span>)</span></span></span><br></pre></td></tr></table></figure>
<h3 id="基本操作">基本操作</h3><p>跟其他很多的矩阵语言不一样，在NumPy中，乘积*可以支持<abbr title="elementwise">元素级别的</abbr>的操作。而矩阵的乘积则是通过dot函数或者创建matrix对象(详情看本教程的matrix章节)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; A = <span class="built_in">array</span>([[<span class="number">1</span>,<span class="number">1</span>],</span><br><span class="line">...             [<span class="number">0</span>,<span class="number">1</span>]])</span><br><span class="line">&gt;&gt;&gt; B = <span class="built_in">array</span>([[<span class="number">2</span>,<span class="number">0</span>],</span><br><span class="line">...             [<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">&gt;&gt;&gt; A*B                         <span class="preprocessor"># 元素级别(elementwise)的乘积 </span></span><br><span class="line"><span class="built_in">array</span>([[<span class="number">2</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">4</span>]])</span><br><span class="line">&gt;&gt;&gt; dot(A,B)                    <span class="preprocessor"># 矩阵乘积</span></span><br><span class="line"><span class="built_in">array</span>([[<span class="number">5</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>]])</span><br></pre></td></tr></table></figure>
<p>一些操作像+=和*=，会<abbr title="in place">原地</abbr>的改变数组而不是创建一个新的数组。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = ones((<span class="number">2</span>,<span class="number">3</span>), dtype=<span class="keyword">int</span>)</span><br><span class="line">&gt;&gt;&gt; b = random.random((<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line">&gt;&gt;&gt; a *= <span class="number">3</span></span><br><span class="line">&gt;&gt;&gt; <span class="function">a</span><br><span class="line"><span class="title">array</span><span class="params">([[<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>]])</span></span><br><span class="line">&gt;&gt;&gt; b +</span>= a</span><br><span class="line">&gt;&gt;&gt; <span class="function">b</span><br><span class="line"><span class="title">array</span><span class="params">([[ <span class="number">3.69092703</span>,  <span class="number">3.8324276</span> ,  <span class="number">3.0114541</span> ],</span><br><span class="line">       [ <span class="number">3.18679111</span>,  <span class="number">3.3039349</span> ,  <span class="number">3.37600289</span>]])</span></span><br><span class="line">&gt;&gt;&gt; a +</span>= b                                  <span class="preprocessor"># b转换成整数型(译者注：因为是原地修改所以会转换成a的类型)</span></span><br><span class="line">&gt;&gt;&gt; <span class="function">a</span><br><span class="line"><span class="title">array</span><span class="params">([[<span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>]])</span></span></span><br></pre></td></tr></table></figure>
<p>当操作不同元素类型的数组时，最终的数组元素类型会为表示更准确的那一种类型。(也就是<abbr title="upcasting">向上转型</abbr>)。(译者注：可以看到与上面原地操作的区别)</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="tag">a</span> = <span class="function"><span class="title">ones</span><span class="params">(<span class="number">3</span>, dtype=int32)</span></span></span><br><span class="line">&gt;&gt;&gt; <span class="tag">b</span> = <span class="function"><span class="title">linspace</span><span class="params">(<span class="number">0</span>,pi,<span class="number">3</span>)</span></span></span><br><span class="line">&gt;&gt;&gt; <span class="tag">b</span><span class="class">.dtype</span><span class="class">.name</span></span><br><span class="line"><span class="string">'float64'</span></span><br><span class="line">&gt;&gt;&gt; c = a+<span class="tag">b</span></span><br><span class="line">&gt;&gt;&gt; c</span><br><span class="line"><span class="function"><span class="title">array</span><span class="params">([ <span class="number">1</span>., <span class="number">2.57079633</span>, <span class="number">4.14159265</span>])</span></span></span><br><span class="line">&gt;&gt;&gt; c<span class="class">.dtype</span><span class="class">.name</span></span><br><span class="line"><span class="string">'float64'</span></span><br><span class="line">&gt;&gt;&gt; d = e[<span class="function"><span class="title">p</span><span class="params">(c*<span class="number">1</span>j)</span></span></span><br><span class="line">&gt;&gt;&gt; d</span><br><span class="line">array([ <span class="number">0.54030231</span>+<span class="number">0.84147098</span>j, ­<span class="number">0.84147098</span>+<span class="number">0.54030231</span>j,</span><br><span class="line">       ­<span class="number">0.54030231</span>­<span class="number">0.84147098</span>j])</span><br><span class="line">&gt;&gt;&gt; d<span class="class">.dtype</span><span class="class">.name</span></span><br><span class="line"><span class="string">'complex128'</span></span><br></pre></td></tr></table></figure>
<p>许多的一元操作被实现成ndarray类中的一个方法，例如计算数组中所有元素的和。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="tag">a</span> = random.<span class="function"><span class="title">random</span><span class="params">((<span class="number">2</span>,<span class="number">3</span>)</span></span>)</span><br><span class="line">&gt;&gt;&gt; <span class="tag">a</span></span><br><span class="line">array([[ <span class="number">0.6903007</span> ,  <span class="number">0.39168346</span>,  <span class="number">0.16524769</span>],</span><br><span class="line">       [ <span class="number">0.48819875</span>,  <span class="number">0.77188505</span>,  <span class="number">0.94792155</span>]])</span><br><span class="line">&gt;&gt;&gt; <span class="tag">a</span>.<span class="function"><span class="title">sum</span><span class="params">()</span></span></span><br><span class="line"><span class="number">3.4552372100521485</span></span><br><span class="line">&gt;&gt;&gt; <span class="tag">a</span>.<span class="function"><span class="title">min</span><span class="params">()</span></span></span><br><span class="line"><span class="number">0.16524768654743593</span></span><br><span class="line">&gt;&gt;&gt; <span class="tag">a</span>.<span class="function"><span class="title">max</span><span class="params">()</span></span></span><br><span class="line"><span class="number">0.9479215542670073</span></span><br></pre></td></tr></table></figure>
<p>在默认情况下，这些操作会把数组当成是由数字组成的列表，忽略它们的轴。但是，我们可以通过指定axis参数来使操作应用到特定的维上。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; b = arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">&gt;&gt;&gt; <span class="function">b</span><br><span class="line"><span class="title">array</span><span class="params">([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">       [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>],</span><br><span class="line">       [ <span class="number">8</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>]])</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">&gt;&gt;&gt; b.<span class="title">sum</span><span class="params">(axis=<span class="number">0</span>)</span>                            # 每一列的和</span><br><span class="line"><span class="title">array</span><span class="params">([<span class="number">12</span>, <span class="number">15</span>, <span class="number">18</span>, <span class="number">21</span>])</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">&gt;&gt;&gt; b.<span class="title">min</span><span class="params">(axis=<span class="number">1</span>)</span>                            # 每一行的最小值</span><br><span class="line"><span class="title">array</span><span class="params">([<span class="number">0</span>, <span class="number">4</span>, <span class="number">8</span>])</span></span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line">&gt;&gt;&gt; b.<span class="title">cumsum</span><span class="params">(axis=<span class="number">1</span>)</span>                         # 每行元素累计相加的和</span><br><span class="line"><span class="title">array</span><span class="params">([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">3</span>,  <span class="number">6</span>],</span><br><span class="line">       [ <span class="number">4</span>,  <span class="number">9</span>, <span class="number">15</span>, <span class="number">22</span>],</span><br><span class="line">       [ <span class="number">8</span>, <span class="number">17</span>, <span class="number">27</span>, <span class="number">38</span>]])</span></span></span><br></pre></td></tr></table></figure>
<h3 id="全局函数">全局函数</h3><p>NumPy提供了数学函数如sin， cos，和exp。在NumPy中，这些函数被称为全局函数(ufunc)。在NumPy中，这些函数对数组进行<abbr title="elementwise">元素级别</abbr>的操作，生成一个数组作为输出。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; B = <span class="function"><span class="title">arange</span><span class="params">(<span class="number">3</span>)</span></span></span><br><span class="line">&gt;&gt;&gt; B</span><br><span class="line"><span class="function"><span class="title">array</span><span class="params">([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])</span></span></span><br><span class="line">&gt;&gt;&gt; <span class="function"><span class="title">exp</span><span class="params">(B)</span></span></span><br><span class="line"><span class="function"><span class="title">array</span><span class="params">([ <span class="number">1</span>., <span class="number">2.71828183</span>, <span class="number">7.3890561</span> ])</span></span></span><br><span class="line">&gt;&gt;&gt; <span class="function"><span class="title">sqrt</span><span class="params">(B)</span></span></span><br><span class="line"><span class="function"><span class="title">array</span><span class="params">([ <span class="number">0</span>.,  <span class="number">1</span>.,  <span class="number">1.41421356</span>])</span></span></span><br></pre></td></tr></table></figure>
<p>同样还有一些全局函数，all, alltrue, any, apply along axis, argmax, argmin, argsort, average, bincount, ceil, clip, conj, conjugate, corrcoef, cov, cross, cumprod, cumsum, diff, dot, floor, inner, inv, lexsort, max, maximum, mean, median, min, minimum, nonzero, outer, prod, re, round, sometrue, sort, std, sum, trace, transpose, var, vdot, vectorize, where。</p>
<h3 id="索引，切片和迭代">索引，切片和迭代</h3><p>一维数组可以像python中的列表和其他序列一样进行索引，切片和迭代。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = arange(<span class="number">10</span>)**<span class="number">3</span></span><br><span class="line">&gt;&gt;&gt; <span class="function">a</span><br><span class="line"><span class="title">array</span><span class="params">([<span class="number">0</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">27</span>, <span class="number">64</span>, <span class="number">125</span>, <span class="number">216</span>, <span class="number">343</span>, <span class="number">512</span>, <span class="number">729</span>])</span></span><br><span class="line">&gt;&gt;&gt; a[2]</span><br><span class="line">8</span><br><span class="line">&gt;&gt;&gt; a[2:5]</span><br><span class="line"><span class="title">array</span><span class="params">([<span class="number">8</span>, <span class="number">27</span>, <span class="number">64</span>])</span></span><br><span class="line">&gt;&gt;&gt; a[:6:2] </span>= -<span class="number">1000</span>    <span class="preprocessor"># 从开始位置<span class="number">0</span>到位置<span class="number">6</span>(不包括)，每两个元素设为-<span class="number">1000</span></span></span><br><span class="line">&gt;&gt;&gt; <span class="function">a</span><br><span class="line"><span class="title">array</span><span class="params">([-<span class="number">1000</span>, <span class="number">1</span>, -<span class="number">1000</span>, <span class="number">27</span>, -<span class="number">1000</span>, <span class="number">125</span>, <span class="number">216</span>, <span class="number">343</span>, <span class="number">512</span>,   </span><br><span class="line"><span class="number">729</span>])</span></span><br><span class="line">&gt;&gt;&gt; a[ : : ­1]                                 # 反转a</span><br><span class="line"><span class="title">array</span><span class="params">([<span class="number">729</span>, <span class="number">512</span>, <span class="number">343</span>, <span class="number">216</span>, <span class="number">125</span>, -<span class="number">1000</span>, <span class="number">27</span>, -<span class="number">1000</span>, <span class="number">1</span>, </span><br><span class="line">­<span class="number">1000</span>])</span></span><br><span class="line">&gt;&gt;&gt; <span class="keyword">for</span> i in a:</span><br><span class="line">...         print i**<span class="params">(<span class="number">1</span>/<span class="number">3.</span>)</span>,</span><br><span class="line">...</span><br><span class="line">nan 1.0 nan 3.0 nan 5.0 6.0 7.0 8.0 9.0</span></span><br></pre></td></tr></table></figure>
<p>多维数组可以在每个轴通过一个索引来定位元素，每一轴的索引值以逗号间隔。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="function">def <span class="title">f</span><span class="params">(x,y)</span>:</span><br><span class="line">...         return 10*x+y</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; b </span>= fromfunction(f,(<span class="number">5</span>,<span class="number">4</span>),dtype=<span class="keyword">int</span>)</span><br><span class="line">&gt;&gt;&gt; <span class="function">b</span><br><span class="line"><span class="title">array</span><span class="params">([[ <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">       [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>],</span><br><span class="line">        [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>],</span><br><span class="line">       [<span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>],</span><br><span class="line">       [<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>]])</span></span><br><span class="line">&gt;&gt;&gt; b[2,3]</span><br><span class="line">23</span><br><span class="line">&gt;&gt;&gt; b[0:5, 1]                       # 第二列中每一行的值</span><br><span class="line"><span class="title">array</span><span class="params">([ <span class="number">1</span>, <span class="number">11</span>, <span class="number">21</span>, <span class="number">31</span>, <span class="number">41</span>])</span></span><br><span class="line">&gt;&gt;&gt; b[:, 1]                        # 等价于上一个语句</span><br><span class="line"><span class="title">array</span><span class="params">([ <span class="number">1</span>, <span class="number">11</span>, <span class="number">21</span>, <span class="number">31</span>, <span class="number">41</span>])</span></span><br><span class="line">&gt;&gt;&gt; b[1:3, : ]                      # 第二行和第三行中每一列的值</span><br><span class="line"><span class="title">array</span><span class="params">([[<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>],</span><br><span class="line">       [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>]])</span></span></span><br></pre></td></tr></table></figure>
<p>当少于轴数的索引值给出时，其余未给出索引的轴被当作是全部保留。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; b[­<span class="number">1</span>]                                  <span class="preprocessor"># 最后一行</span></span><br><span class="line"><span class="built_in">array</span>([<span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>])</span><br></pre></td></tr></table></figure>
<p>在b[i]方括号中的表达式会当作是一个i后面跟着足够多个”:”来表示剩余的轴。NumPy也允许你使用点点点来表示，像这样b[i,…]。<br>这个点点点(…)表示有足够多个”：”来表示剩余的索引值。如果x是一个rank为5的数组(即轴数为5)，则：</p>
<ul>
<li>x[1,2,…]等价于x[1,2,:,:,:]</li>
<li>x[…,3]等价于x[:,:,:,:,3]</li>
<li>x[4,…,5]等价于x[4,:,:,5:]</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; c = <span class="built_in">array</span>( [ [[  <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],               <span class="preprocessor"># 三维数组 </span></span><br><span class="line">...               [ <span class="number">10</span>, <span class="number">12</span>, <span class="number">13</span>]],</span><br><span class="line">...</span><br><span class="line">...              [[<span class="number">100</span>,<span class="number">101</span>,<span class="number">102</span>],</span><br><span class="line">...               [<span class="number">110</span>,<span class="number">112</span>,<span class="number">113</span>]] ] )</span><br><span class="line">&gt;&gt;&gt; c.shape</span><br><span class="line">(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">&gt;&gt;&gt; c[<span class="number">1</span>,...]                                   <span class="preprocessor"># 等价于c[<span class="number">1</span>,:,:]</span></span><br><span class="line"><span class="built_in">array</span>([[<span class="number">100</span>, <span class="number">101</span>, <span class="number">102</span>],</span><br><span class="line">        [<span class="number">110</span>, <span class="number">112</span>, <span class="number">113</span>]])</span><br><span class="line">        &gt;&gt;&gt; c[...,<span class="number">2</span>]                           <span class="preprocessor"># 等价于c[:,:,<span class="number">2</span>]</span></span><br><span class="line"><span class="built_in">array</span>([[  <span class="number">2</span>,  <span class="number">13</span>],</span><br><span class="line">       [<span class="number">102</span>, <span class="number">113</span>]])</span><br></pre></td></tr></table></figure>
<p>对多维数组进行迭代是相对于第一个轴进行遍历完成的。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="keyword">for</span> row in b:</span><br><span class="line">...         print row</span><br><span class="line">...</span><br><span class="line">[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line">[<span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span>]</span><br><span class="line">[<span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>]</span><br><span class="line">[<span class="number">30</span> <span class="number">31</span> <span class="number">32</span> <span class="number">33</span>]</span><br><span class="line">[<span class="number">40</span> <span class="number">41</span> <span class="number">42</span> <span class="number">43</span>]</span><br></pre></td></tr></table></figure>
<p>然而，如果你想对每一个元素进行迭代，你可以使用flat属性，它是包含数组中每个元素的迭代器。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="keyword">for</span> element in b.flat:</span><br><span class="line">...         print element,</span><br><span class="line">...</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">30</span> <span class="number">31</span> <span class="number">32</span> <span class="number">33</span> <span class="number">40</span> <span class="number">41</span> <span class="number">42</span> <span class="number">43</span></span><br></pre></td></tr></table></figure>
<p>同样，相关的函数有： newaxis, ndenumerate, indices, index exp。</p>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/NumPy/" rel="tag">#NumPy</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/2014/08/21/HTML-5 Full-Screen API/" rel="prev">HTML-5 Full-Screen API</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2014/05/20/用ultiSnips snippets来写文章/" rel="next">用ultiSnips snippets来写文章</a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

 </div>

        

        
          <div class="comments" id="comments">
            
              <div class="ds-thread" data-thread-key="2014/05/22/(译)NumPy教程(一)/"
                   data-title="(译)NumPy教程(一)" data-url="http://yoursite.com/2014/05/22/(译)NumPy教程(一)/">
              </div>
            
          </div>
        
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="https://avatars0.githubusercontent.com/u/5821394?v=3&s=460" alt="zengguanming" itemprop="image"/>
          <p class="site-author-name" itemprop="name">zengguanming</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">13</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分类</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">9</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#必备知识"><span class="nav-number">1.</span> <span class="nav-text">必备知识</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NumPy基础"><span class="nav-number">2.</span> <span class="nav-text">NumPy基础</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#一个例子"><span class="nav-number">2.1.</span> <span class="nav-text">一个例子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建数组"><span class="nav-number">2.2.</span> <span class="nav-text">创建数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打印数组"><span class="nav-number">2.3.</span> <span class="nav-text">打印数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基本操作"><span class="nav-number">2.4.</span> <span class="nav-text">基本操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#全局函数"><span class="nav-number">2.5.</span> <span class="nav-text">全局函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#索引，切片和迭代"><span class="nav-number">2.6.</span> <span class="nav-text">索引，切片和迭代</span></a></li></ol></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-next-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zengguanming</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"hialex"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     
  	<script src="/js/ua-parser.min.js"></script>
  	<script src="/js/hook-duoshuo.js"></script>
  

    
  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.1" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>

  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
